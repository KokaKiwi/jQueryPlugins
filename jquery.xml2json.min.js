var e=jQuery;e.fn.xml2json=function(a){function c(b){var a={};if(b.children().length){var d={};b.children().each(function(a,c){c.nodeName in d||(d[c.nodeName]=b.children(c.nodeName).length)});if(1<Object.size(d))for(key in d)1<d[key]?(a[key]=[],b.children(key).each(function(b,d){a[key].push(c(e(d)))})):1==d[key]&&(a[key]=c(b.find(key)));else 1==Object.size(d)&&(a=[],b.children().each(function(b,d){a.push(c(e(d)))}))}else a=b.text();return a}a=e.extend({root:"root"},a);a=this.find(a.root);return c(a)};
Object.size||(Object.size=function(a){var c=0,b;for(b in a)a.hasOwnProperty(b)&&c++;return c});